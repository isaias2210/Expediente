<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>IFARHU ‚Äì Plataforma Administrativa</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <!-- HEADER -->
  <header>
    <div class="header-flex">
      <div class="header-title">Plataforma Administrativa ‚Äì IFARHU</div>
      <div class="header-user">
        <span id="txtUsuario"></span>
        <button id="btnLogout" class="logout-btn" onclick="logout()">Cerrar sesi√≥n</button>
      </div>
    </div>
  </header>

  <div class="layout">
    <!-- MENU LATERAL -->
    <aside>
      <button class="menu-btn" onclick="mostrarVista('lista')">üìã Ver registros</button>
      <button class="menu-btn" onclick="mostrarVista('agregar')">‚ûï Agregar registro</button>
      <button class="menu-btn" onclick="mostrarVista('actualizar')">‚úèÔ∏è Actualizaci√≥n de registro</button>
      <div id="menuAdmin" style="display:none;">
        <hr>
        <div class="menu-admin-title">Panel administrador</div>
        <button class="menu-btn" onclick="mostrarVista('admin-usuarios')">üë• Usuarios</button>
        <button class="menu-btn" onclick="mostrarVista('admin-logs')">üßæ Logs</button>
        <button class="menu-btn" onclick="mostrarVista('admin-resumen')">üìä Resumen por escuela</button>
      </div>
    </aside>

    <!-- CONTENIDO PRINCIPAL -->
    <main>
      <!-- VISTA LISTA -->
      <section id="vista-lista" class="vista">
        <div class="card">
          <h2>Ver registros por escuela</h2>
          <label>Escuela</label>
          <select id="selectEscuelaLista"></select>
          <button onclick="cargarRegistros()">Ver registros</button>
        </div>

        <div class="card">
          <h2>Registros</h2>
          <div id="tablaRegistros">Seleccione una escuela.</div>
        </div>
      </section>

      <!-- VISTA AGREGAR -->
      <section id="vista-agregar" class="vista" style="display:none;">
        <div class="card">
          <h2>Agregar registro</h2>

          <label>Escuela</label>
          <select id="selectEscuelaAgregar"></select>

          <label>Nombre del estudiante</label>
          <input id="estudiante">

          <label>C√©dula</label>
          <input id="cedula">

          <label>Tel√©fono</label>
          <input id="telefono">

          <label>Documento entregado</label>
          <select id="documento_entregado">
            <option value="1">S√≠</option>
            <option value="0">No</option>
          </select>

          <label>Nota</label>
          <input id="nota">

          <label>Trimestre</label>
          <select id="trimestre">
            <option value="Primer trimestre">Primer trimestre</option>
            <option value="Segundo trimestre">Segundo trimestre</option>
            <option value="Tercer trimestre">Tercer trimestre</option>
          </select>

          <label>Observaci√≥n</label>
          <textarea id="observacion"></textarea>

          <button onclick="agregarRegistro()">Guardar registro</button>
          <div id="mensajeAgregar" class="mensaje"></div>
        </div>
      </section>

      <!-- VISTA ACTUALIZAR -->
      <section id="vista-actualizar" class="vista" style="display:none;">
        <div class="card">
          <h2>Actualizaci√≥n de registro</h2>
          <label>Buscar por c√©dula</label>
          <input id="buscarCedula">
          <button onclick="buscarPorCedula()">Buscar</button>
          <div id="mensajeBuscar" class="mensaje"></div>
        </div>

        <div class="card">
          <h2>Resultados</h2>
          <div id="tablaBusqueda">Ingrese una c√©dula para buscar.</div>
        </div>

        <div class="card" id="cardEdicion" style="display:none;">
          <h2>Editar registro</h2>
          <div id="infoEdicion"></div>

          <label>Nombre del estudiante</label>
          <input id="editEstudiante">

          <label>C√©dula</label>
          <input id="editCedula">

          <label>Tel√©fono</label>
          <input id="editTelefono">

          <label>Documento entregado</label>
          <select id="editDocumento">
            <option value="1">S√≠</option>
            <option value="0">No</option>
          </select>

          <label>Nota</label>
          <input id="editNota">

          <label>Trimestre</label>
          <select id="editTrimestre">
            <option value="Primer trimestre">Primer trimestre</option>
            <option value="Segundo trimestre">Segundo trimestre</option>
            <option value="Tercer trimestre">Tercer trimestre</option>
          </select>

          <label>Observaci√≥n</label>
          <textarea id="editObservacion"></textarea>

          <button onclick="guardarEdicion()">Guardar cambios</button>
          <div id="mensajeEdicion" class="mensaje"></div>
        </div>
      </section>

      <!-- ADMIN: USUARIOS -->
      <section id="vista-admin-usuarios" class="vista" style="display:none;">
        <div class="card">
          <h2>Gesti√≥n de usuarios</h2>

          <div class="admin-columns">
            <div class="admin-col">
              <h3>Usuarios existentes</h3>
              <div id="listaUsuarios">Cargando usuarios...</div>
            </div>

            <div class="admin-col">
              <h3>Crear usuario</h3>

              <label>Usuario</label>
              <input id="crearUsuario">

              <label>Contrase√±a</label>
              <input id="crearPassword" type="password">

              <label>Escuelas (separadas por coma)</label>
              <input id="crearEscuelas">

              <label>Rol</label>
              <select id="crearRol">
                <option value="user">Usuario</option>
                <option value="admin">Administrador</option>
              </select>

              <button onclick="adminCrearUsuario()">Crear</button>
              <div id="crearMensaje" class="mensaje"></div>
            </div>

            <div class="admin-col">
              <h3>Editar usuario</h3>

              <label>Usuario</label>
              <input id="editarUsuario">

              <label>Nueva contrase√±a</label>
              <input id="editarPassword" type="password">

              <label>Escuelas (separadas por coma)</label>
              <input id="editarEscuelas">

              <label>Rol</label>
              <select id="editarRol">
                <option value="user">Usuario</option>
                <option value="admin">Administrador</option>
              </select>

              <button onclick="guardarCambiosUsuario()">Guardar cambios</button>
              <div id="editarMensaje" class="mensaje"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- ADMIN: LOGS -->
      <section id="vista-admin-logs" class="vista" style="display:none;">
        <div class="card">
          <h2>Bit√°cora de cambios</h2>
          <div id="tablaLogs">Cargando logs...</div>
        </div>
      </section>

      <!-- ADMIN: RESUMEN -->
      <section id="vista-admin-resumen" class="vista" style="display:none;">
        <div class="card">
          <h2>Resumen por escuela</h2>
          <div id="tablaResumen">Cargando resumen...</div>
        </div>
      </section>
    </main>
  </div>

  <script src="app.js"></script>
</body>
</html>
