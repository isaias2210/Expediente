<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <title>IFARHU ‚Äì Plataforma Administrativa</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <!-- HEADER -->
  <header>
    <div class="header-flex">
      <div class="header-title">Plataforma Administrativa ‚Äì IFARHU</div>
      <button onclick="logout()" class="logout-btn">Cerrar sesi√≥n</button>
    </div>
  </header>

  <div class="layout">

    <!-- SIDEBAR -->
    <nav class="sidebar">
      <button class="side-btn" onclick="mostrarVista('inicio')">üè† Inicio</button>
      <button class="side-btn" onclick="mostrarVista('escuelas')">üè´ Mis Escuelas</button>
      <button class="side-btn" onclick="mostrarVista('agregar')">‚ûï Agregar Registro</button>
      <button class="side-btn" onclick="mostrarVista('actualizar')">‚úèÔ∏è Actualizar Registro</button>
      <button class="side-btn" onclick="mostrarVista('buscar')">üîé B√∫squeda por C√©dula</button>
      <button class="side-btn admin-only" onclick="mostrarVista('admin')">‚öôÔ∏è Administrador</button>
    </nav>

    <!-- CONTENIDO PRINCIPAL -->
    <main class="content">

      <!-- INICIO -->
      <section id="vista-inicio" class="vista">
        <div class="card">
          <h2>Bienvenido(a)</h2>
          <p>Use el men√∫ de la izquierda para manejar los expedientes de los estudiantes de su escuela.</p>
          <ul>
            <li><strong>Mis Escuelas:</strong> ver registros existentes.</li>
            <li><strong>Agregar Registro:</strong> a√±adir nuevos estudiantes.</li>
            <li><strong>Actualizar Registro:</strong> buscar por c√©dula y corregir datos.</li>
            <li><strong>B√∫squeda por C√©dula:</strong> ver todos los registros de un estudiante.</li>
            <li><strong>Administrador:</strong> s√≥lo para el usuario administrador.</li>
          </ul>
        </div>
      </section>

      <!-- ESCUELAS -->
      <section id="vista-escuelas" class="vista" style="display:none;">
        <div class="card">
          <h2>Mis Escuelas</h2>

          <label>Seleccione la escuela</label>
          <select id="selectEscuela" onchange="cargarRegistros()"></select>

          <div id="tablaRegistros"></div>
        </div>
      </section>

      <!-- AGREGAR -->
      <section id="vista-agregar" class="vista" style="display:none;">
        <div class="card">
          <h2>Agregar Registro</h2>

          <label>Escuela</label>
          <select id="selectEscuelaAgregar"></select>

          <label>Nombre del estudiante</label>
          <input id="estudiante">

          <label>C√©dula</label>
          <input id="cedula">

          <label>Tel√©fono</label>
          <input id="telefono">

          <label>Documento entregado</label>
          <select id="documento_entregado">
            <option value="1">S√≠</option>
            <option value="0">No</option>
          </select>

          <label>Trimestre</label>
          <select id="trimestre">
            <option value="Primer trimestre">Primer trimestre</option>
            <option value="Segundo trimestre">Segundo trimestre</option>
            <option value="Tercer trimestre">Tercer trimestre</option>
          </select>

          <label>Nota</label>
          <input id="nota">

          <label>Observaci√≥n</label>
          <textarea id="observacion"></textarea>

          <button onclick="agregarRegistro()">Guardar registro</button>
          <div id="mensajeRegistro"></div>
        </div>
      </section>

      <!-- BUSCAR -->
      <section id="vista-buscar" class="vista" style="display:none;">
        <div class="card">
          <h2>B√∫squeda por C√©dula</h2>
          <input type="text" id="buscarCedula" placeholder="Ej: 8-123-456">
          <button onclick="buscarPorCedula()">Buscar</button>

          <div id="resultadosBusqueda"></div>
        </div>
      </section>

      <!-- ACTUALIZAR -->
      <section id="vista-actualizar" class="vista" style="display:none;">
        <div class="card">
          <h2>Actualizaci√≥n de Registro</h2>
          <p>Busque por c√©dula y edite el registro que necesite.</p>
          <input type="text" id="buscarCedulaActualizar" placeholder="Ej: 8-123-456">
          <button onclick="buscarParaActualizar()">Buscar</button>
          <div id="tablaActualizar"></div>
        </div>

        <div class="card" id="formActualizarCard" style="display:none;">
          <h3>Editar registro</h3>

          <input type="hidden" id="updFila">

          <label>Escuela</label>
          <input id="updEscuela" readonly>

          <label>Nombre del estudiante</label>
          <input id="updEstudiante">

          <label>C√©dula</label>
          <input id="updCedula">

          <label>Tel√©fono</label>
          <input id="updTelefono">

          <label>Documento entregado</label>
          <select id="updDocumento">
            <option value="1">S√≠</option>
            <option value="0">No</option>
          </select>

          <label>Trimestre</label>
          <select id="updTrimestre">
            <option value="Primer trimestre">Primer trimestre</option>
            <option value="Segundo trimestre">Segundo trimestre</option>
            <option value="Tercer trimestre">Tercer trimestre</option>
          </select>

          <label>Nota</label>
          <input id="updNota">

          <label>Observaci√≥n</label>
          <textarea id="updObservacion"></textarea>

          <button onclick="guardarActualizacion()">Guardar cambios</button>
          <div id="mensajeActualizar"></div>
        </div>
      </section>

      <!-- ADMIN -->
      <section id="vista-admin" class="vista" style="display:none;">
        <div class="card">
          <h2>Panel de Administraci√≥n</h2>

          <div class="admin-menu">
            <button class="admin-btn" onclick="adminMostrar('usuarios')">Usuarios</button>
            <button class="admin-btn" onclick="adminMostrar('crear')">Crear Usuario</button>
            <button class="admin-btn" onclick="adminMostrar('editar')">Editar Usuario</button>
            <button class="admin-btn" onclick="adminMostrar('logs')">Logs del sistema</button>
            <button class="admin-btn" onclick="adminMostrar('stats')">Estad√≠sticas</button>
            <button class="admin-btn" onclick="adminMostrar('ayuda')">Ayuda</button>
          </div>

          <!-- SECCI√ìN: LISTA DE USUARIOS -->
          <div id="admin-usuarios" class="admin-panel">
            <h3>Lista de Usuarios</h3>
            <div id="listaUsuarios">Cargando...</div>
          </div>

          <!-- SECCI√ìN: CREAR USUARIO -->
          <div id="admin-crear" class="admin-panel" style="display:none;">
            <h3>Crear Nuevo Usuario</h3>
            <label>Usuario</label>
            <input id="nuevoUsuario">

            <label>Contrase√±a</label>
            <input id="nuevoPassword" type="password">

            <label>Rol</label>
            <select id="nuevoRol">
              <option value="user">Usuario</option>
              <option value="admin">Administrador</option>
            </select>

            <label>Escuelas (separadas por coma)</label>
            <input id="nuevoEscuelas" placeholder="Escuela_A, Escuela_B">

            <button onclick="crearUsuario()">Guardar Usuario</button>
            <div id="mensajeNuevoUsuario"></div>
          </div>

          <!-- SECCI√ìN: EDITAR USUARIO -->
          <div id="admin-editar" class="admin-panel" style="display:none;">
            <h3>Editar Usuario</h3>

            <label>Seleccione usuario</label>
            <select id="selectUsuarioEditar" onchange="cargarDatosUsuario()"></select>

            <label>Nueva contrase√±a (opcional)</label>
            <input id="editarPassword" type="password">

            <label>Nuevo rol</label>
            <select id="editarRol">
              <option value="user">Usuario</option>
              <option value="admin">Administrador</option>
            </select>

            <label>Escuelas (separadas por coma)</label>
            <input id="editarEscuelas">

            <button onclick="guardarCambiosUsuario()">Guardar cambios</button>
            <div id="mensajeEditarUsuario"></div>
          </div>

          <!-- SECCI√ìN: LOGS -->
          <div id="admin-logs" class="admin-panel" style="display:none;">
            <h3>Logs del sistema</h3>
            <div id="tablaLogs">No hay logs todav√≠a.</div>
          </div>

          <!-- SECCI√ìN: ESTAD√çSTICAS -->
          <div id="admin-stats" class="admin-panel" style="display:none;">
            <h3>Estad√≠sticas generales</h3>
            <p>Resumen de registros por escuela y trimestre.</p>
            <div id="tablaStats">Seleccione esta pesta√±a para cargar los datos.</div>
          </div>

          <!-- SECCI√ìN: AYUDA -->
          <div id="admin-ayuda" class="admin-panel" style="display:none;">
            <h3>Ayuda r√°pida</h3>
            <p><strong>1.</strong> Use <em>Mis Escuelas</em> para ver los registros de los centros que tiene asignados.</p>
            <p><strong>2.</strong> En <em>Agregar Registro</em> puede capturar nuevos estudiantes.</p>
            <p><strong>3.</strong> En <em>Actualizaci√≥n de Registro</em> busque por c√©dula y use el l√°piz para corregir datos.</p>
            <p><strong>4.</strong> El panel de <em>Administrador</em> permite gestionar usuarios, ver logs y estad√≠sticas.</p>
          </div>

        </div>
      </section>

    </main>
  </div>

  <script src="app.js"></script>
</body>

</html>
